return{name:"Ad Block",description:"Blocks ads on Spotify.",creator:"H8N8M8",version:"0.0.1",url:"https://raw.githubusercontent.com/H8N8M8/MotifyPlugins/adBlock.js",init:function(){for(var _window of windows){this.patch(_window)}this.css=MotifyAPI.injectCSS("adBlockStyles",".ad-container{display:none}")},onAppLoaded(_window){this.patch(_window)},patch(_window){_window.unpatchedBridgeRequest=_window._getSpotifyModule("bridge").executeRequest;_window._getSpotifyModule("bridge").executeRequest=function(r,e){try{var data=JSON.parse(r),uri=data.args&&data.args[1]?data.args[1].uri:null;if(uri&&uri.includes("/ads/")){return console.warn("[adBlock] Banner/Popup ad blocked",{data:data,events:e})}}finally{}_window.unpatchedBridgeRequest.apply(_window,arguments)}},end:function(){for(var _window of windows){_window._getSpotifyModule("bridge").executeRequest=_window.unpatchedBridgeRequest;delete _window.unpatchedBridgeRequest}this.css.destroy()}};